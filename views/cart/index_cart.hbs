<style>
    a:hover {
        text-decoration: none;
        color: white;
    }
</style>
<a href="/" class="btn btn-primary m-3">Watch more products</a>

<h2 class="text-center mt-3">Your cart</h2>
{{#if cart}}
    <form class="col-12" name="formOrder" method="post" action="/cart/order">
        <div class="card mt-3 mx-4">
            <div class="table-responsive mb-0">
                <table class="table table-vcenter table-mobile-md card-table table-dark">
                    <thead style="background-color:antiquewhite">
                        <tr>
                            <th><input type="checkbox" name="all" onchange="selectAll(this)" checked> All</th>
                            <th>Product</th>
                            <th>Quantity</th>
                            <th>Price</th>
                            <th>Amount</th>
                            <th>Delete</th>
                        </tr> 
                    </thead>
                    <tbody>
                        {{#each cart}}
                            <tr>
                                <td>
                                    <input type="checkbox" name="order" value="{{this._id}}" checked onchange="total(this)">                                    
                                </td>
                                <td>
                                    <a href="/detail/{{this.pid}}" class="text-white"> {{!-- click trở về trang detail của sản phẩm --}}
                                        <div class="d-flex py-1 align-items-center">
                                            <img src="/images/{{this.imgUrl}}" class="avatar me-2" >
                                            <p class="mb-0 name" style="margin-left: 10px">{{this.product}}</p>
                                            <input type="hidden" value="{{this._id}}" class="id">
                                        </div>
                                    </a>
                                </td>
                                <td><input type="number" value="{{this.quantity}}" step="1" min="1" max="20" class="quantity"></td>
                                <td class="price">{{this.price}}</td>
                                <td class="amount">{{multiply this.price this.quantity}}</td>
                                <td><i class="fas fa-trash"></i></td>
                            </tr>
                        {{/each}}                    
                    </tbody>
                </table>
            </div>
        </div>
        <div class="me-4">
            <div class="card mt-3 col-4 ms-auto">
                <div class="card-body">                    
                    <p>You will buy: <span id="buy-product" class="text-warning"> 0</span> product</p>
                    <input type="hidden" name="buy">
                    <div class="border-top"></div>                  
                    <h3 class="mt-3 font-weight-bold text-success">TOTAL: <span id="total">???</span></h3>                    
                    <input type="hidden" name="pay">
                </div>
            </div>
        </div>        
        <center><button class="btn btn-warning mt-3" id="btn-check-out">Check out</></button></center>
    </form>
{{else}}
    <p>Your cart is empty</p>
{{/if}}

<script src="/js/cart/index_cart.js"></script>


